services:
  cliv2_kerberos:
    container_name: ${CONTAINER_NAME}
    build: .
    environment:
      - KERBEROS_USERNAME=administrator
      - KERBEROS_PASSWORD=password123
      - HTTP_PROXY_PORT=${HTTP_PROXY_PORT}
    ports:
      - "${HTTP_PROXY_PORT}:${HTTP_PROXY_PORT}"
    expose:
      - "${HTTP_PROXY_PORT}"
    hostname: "${PROXY_HOSTNAME}"
    extra_hosts:
      - "host.docker.internal:host-gateway"
    volumes:
      - ./scripts:/etc/cliv2/scripts
      - ${TEST_SNYK_COMMAND}:/etc/cliv2/bin/snyk
      - ${PROJECT_PATH}:/etc/cliv2/project
